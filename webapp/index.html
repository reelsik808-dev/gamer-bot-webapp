<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Gamer Profile</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #0f0f13;
            --card-bg: #1a1a24;
            --primary: #6c5ce7;
            --accent: #00cec9;
            --text: #ffffff;
            --secondary-text: #b2bec3;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1 { font-size: 24px; margin-bottom: 10px; text-align: center; background: linear-gradient(45deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        p { color: var(--secondary-text); text-align: center; font-size: 14px; margin-bottom: 30px; }

        .container { width: 100%; max-width: 350px; }

        /* Steps */
        .step { display: none; animation: fadeIn 0.4s ease; }
        .step.active { display: block; }

        /* Cards / Options */
        .option-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .option-card {
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-card:active { transform: scale(0.95); }
        .option-card.selected { border-color: var(--accent); background: rgba(0, 206, 201, 0.1); }
        .option-card span { font-size: 24px; display: block; margin-bottom: 8px; }
        .option-card div { font-size: 14px; font-weight: 500; }

        .full-width { grid-column: span 2; }

        /* Progress Bar */
        .progress-container { width: 100%; height: 6px; background: #333; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }

        /* Main Button */
        .main-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            margin-top: 30px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);
        }
        .main-btn:disabled { background: #444; box-shadow: none; cursor: not-allowed; opacity: 0.7; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="container">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="step active" id="step1">
            <h1>–û—Ç–∫—É–¥–∞ —Ç—ã? üåç</h1>
            <p>–í—ã–±–µ—Ä–∏ —Å–≤–æ–π —Ä–µ–≥–∏–æ–Ω</p>
            <div class="option-grid">
                <div class="option-card" onclick="selectOption(1, '–†–§', this)">
                    <span>üá∑üá∫</span><div>–†–æ—Å—Å–∏—è</div>
                </div>
                <div class="option-card" onclick="selectOption(1, '–í–µ—Å—å –º–∏—Ä', this)">
                    <span>üåç</span><div>–î—Ä—É–≥–æ–µ</div>
                </div>
            </div>
        </div>

        <div class="step" id="step2">
            <h1>–õ—é–±–∏–º–∞—è –∏–≥—Ä–∞? üéÆ</h1>
            <p>–ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ–Ω–∞—Ç</p>
            <div class="option-grid">
                <div class="option-card" onclick="selectOption(2, 'Roblox', this)">
                    <span>üü•</span><div>Roblox</div>
                </div>
                <div class="option-card" onclick="selectOption(2, 'Brawl Stars', this)">
                    <span>‚≠êÔ∏è</span><div>Brawl Stars</div>
                </div>
                <div class="option-card" onclick="selectOption(2, 'Minecraft', this)">
                    <span>üü©</span><div>Minecraft</div>
                </div>
                <div class="option-card" onclick="selectOption(2, 'PUBG', this)">
                    <span>üî´</span><div>PUBG</div>
                </div>
                <div class="option-card full-width" onclick="selectOption(2, '–î—Ä—É–≥–æ–µ', this)">
                    <span>üëæ</span><div>–î—Ä—É–≥–∞—è –∏–≥—Ä–∞</div>
                </div>
            </div>
        </div>

        <div class="step" id="step3">
            <h1>–ì–¥–µ —Å–º–æ—Ç—Ä–∏—à—å –≤–∏–¥–µ–æ? üé¨</h1>
            <p>–í—ã–±–µ—Ä–∏ –æ—Å–Ω–æ–≤–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</p>
            <div class="option-grid">
                <div class="option-card" onclick="selectOption(3, 'YouTube', this)">
                    <span>‚ñ∂Ô∏è</span><div>YouTube</div>
                </div>
                <div class="option-card" onclick="selectOption(3, 'TikTok', this)">
                    <span>üéµ</span><div>TikTok</div>
                </div>
                <div class="option-card full-width" onclick="selectOption(3, 'Shorts/Reels', this)">
                    <span>üì±</span><div>Shorts / Reels</div>
                </div>
            </div>
        </div>

        <div class="step" id="step4">
            <h1>–¢–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ? üì≤</h1>
            <p>–° —á–µ–≥–æ —É–¥–æ–±–Ω–µ–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞–Ω–∏—è</p>
            <div class="option-grid">
                <div class="option-card" onclick="selectOption(4, '–¢–µ–ª–µ—Ñ–æ–Ω', this)">
                    <span>üì±</span><div>–¢–µ–ª–µ—Ñ–æ–Ω</div>
                </div>
                <div class="option-card" onclick="selectOption(4, '–ü–ö', this)">
                    <span>üíª</span><div>–ö–æ–º–ø—å—é—Ç–µ—Ä</div>
                </div>
            </div>
        </div>

        <button class="main-btn" id="nextBtn" disabled onclick="nextStep()">–î–∞–ª–µ–µ</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.MainButton.hide();

        let currentStep = 1;
        const totalSteps = 4;
        let answers = {
            location: '',
            game: '',
            platform: '',
            device: ''
        };

        function selectOption(step, value, element) {
            // Remove active class from siblings
            const parent = element.parentElement;
            const siblings = parent.getElementsByClassName('option-card');
            for (let sib of siblings) {
                sib.classList.remove('selected');
            }
            // Add active class
            element.classList.add('selected');
            
            // Save value
            if (step === 1) answers.location = value;
            if (step === 2) answers.game = value;
            if (step === 3) answers.platform = value;
            if (step === 4) answers.device = value;

            // Enable button
            const btn = document.getElementById('nextBtn');
            btn.disabled = false;
            btn.innerText = step === totalSteps ? "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚úÖ" : "–î–∞–ª–µ–µ";
            
            // Haptic feedback (–≤–∏–±—Ä–∞—Ü–∏—è)
            tg.HapticFeedback.selectionChanged();
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                
                // Update progress
                const percent = ((currentStep - 1) / totalSteps) * 100;
                document.getElementById('progressBar').style.width = `${percent}%`;
                
                // Reset button
                document.getElementById('nextBtn').disabled = true;
            } else {
                // Finish
                document.getElementById('progressBar').style.width = `100%`;
                sendDataToBot();
            }
        }

        function sendDataToBot() {
            tg.MainButton.showProgress();
            const data = JSON.stringify(answers);
            tg.sendData(data);
        }
    </script>
</body>
</html>
